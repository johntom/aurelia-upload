<template>
     <!--height: 200px;
        img {
      max-width: 200px;
      height: auto;
   
    }-->
    <!--max-height:95px;-->
  <style>
 

img {
  display: block;
  max-width:200px;
  max-height:200px;
  width: auto;
  height: auto;
}


    
  </style>
  <require from="./BlobToUrlValueConverter"></require>
  <require from="./FileListToArrayValueConverter"></require>
    <!--<require from="./date-format"></require>-->
  <!--must use name=file as that's what backend is expecting with multer' -->
  <h1> Aurelia Upload Demo with Trails Backend ${upmess} </h1>
  <form submit.delegate="submit(file)">
    <input type="file" name="file" files.bind="file" multiple>
    <button type="submit">Upload files</button>

  </form>


  <div class="row">

    <ul>
      <li repeat.for="onefile of file | fileListToArray">

        <div class="col s3">
          <p>${onefile.name}: ${onefile.type} ${onefile.size / 1000} kb</p>
          <img src.bind="onefile | blobToUrl"><img>
          <!--<p>-modified:${file.lastModifiedDate| date:'year' }-</p>-->
          <!--<p>Last Modified: ${file.lastModifiedDate| dateFormat:'year' } </p></div>
                    <br>-->
        </div>

      </li>

    </ul>

  </div>


  <div class="row">

    <ul>
      <li repeat.for="file of files">

        <div class="col s6">
          <p><a target='_blank' href ='http://localhost:3000/api/v1/getfile/${file.url}'> ${file.url}</a>   </p>
   
        </div>

      </li>

    </ul>

  </div>



</template>